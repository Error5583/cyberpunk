<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Она свободна. Я отпустил её.</title>
  <style>
    body {
      background: #000;
      color: #f0f0f0;
      font-family: 'Georgia', serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 2rem;
      text-align: center;
    }

    /* Глитч-заголовок */
    h1.glitch-title {
      position: relative;
      font-weight: 300;
      font-size: 2.4rem;
      margin: 1.5rem 0 0.5rem;
      background: linear-gradient(90deg, #c9a36b, #e8d7b5);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-align: left;
    }

    h1.glitch-title::before,
    h1.glitch-title::after {
      content: attr(data-text);
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      background: linear-gradient(90deg, #c9a36b, #e8d7b5);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    h1.glitch-title::before {
      left: 2px;
      text-shadow: -2px 0 #ff00c1;
      clip: rect(0, 9999px, 0, 0);
      animation: glitch-anim 5s infinite linear alternate-reverse;
    }

    h1.glitch-title::after {
      left: -2px;
      text-shadow: -2px 0 #00fff9, 2px 2px #ff00c1;
      clip: rect(0, 9999px, 0, 0);
      animation: glitch-anim2 4s infinite linear alternate-reverse;
    }

    @keyframes glitch-anim {
      0%, 19.999%, 22%, 69.999%, 72%, 100% { clip: rect(0, 9999px, 0, 0); }
      20%, 21.999% { clip: rect(42px, 9999px, 54px, 0); }
      70%, 71.999% { clip: rect(12px, 9999px, 78px, 0); }
    }

    @keyframes glitch-anim2 {
      0%, 19.999%, 22%, 69.999%, 72%, 100% { clip: rect(0, 9999px, 0, 0); }
      20%, 21.999% { clip: rect(32px, 9999px, 68px, 0); }
      70%, 71.999% { clip: rect(22px, 9999px, 48px, 0); }
    }

    img {
      width: 100%;
      border-radius: 8px;
      margin: 1.5rem 0;
    }
    .text {
      line-height: 1.7;
      text-align: left;
      margin-top: 2rem;
    }

    /* Рейтинг звёзд */
    .rating {
      margin: 2rem auto;
      font-size: 2rem;
      color: #555;
      cursor: pointer;
      user-select: none;
    }

    .rating .star {
      display: inline-block;
      padding: 0 4px;
    }

    .rating .star.active,
    .rating .star:hover {
      color: #FFD700;
    }

    .rating-message {
      margin-top: 1rem;
      font-size: 0.95rem;
      color: #777;
      font-style: italic;
      min-height: 1.4em;
    }

    /* Глитч на нижней ссылке */
    a.back {
      display: inline-block;
      margin-top: 2rem;
      color: #777;
      text-decoration: none;
      font-family: 'Courier New', monospace;
      position: relative;
    }

    a.back::before,
    a.back::after {
      content: '← Вернуться к выбору';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      white-space: nowrap;
    }

    a.back::before {
      color: #ff00c1;
      left: 2px;
      opacity: 0;
      animation: glitch-link-1 3s infinite;
    }

    a.back::after {
      color: #00fff9;
      left: -2px;
      opacity: 0;
      animation: glitch-link-2 2.7s infinite;
    }

    @keyframes glitch-link-1 {
      0%, 19%, 21%, 69%, 71%, 100% { opacity: 0; transform: translateX(0); }
      20% { opacity: 1; transform: translateX(-2px); }
      70% { opacity: 1; transform: translateX(2px); }
    }

    @keyframes glitch-link-2 {
      0%, 19%, 21%, 69%, 71%, 100% { opacity: 0; transform: translateX(0); }
      20% { opacity: 0.9; transform: translateX(2px); }
      70% { opacity: 0.9; transform: translateX(-2px); }
    }

    a.back:hover {
      color: #aaa;
    }
  </style>
</head>
<body>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
    (function(m,e,t,r,i,k,a){
        m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
        m[i].l=1*new Date();
        for (var j = 0; j < document.scripts.length; j++) {if (document.scripts[j].src === r) { return; }}
        k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)
    })(window, document,'script','https://mc.yandex.ru/metrika/tag.js?id=105914687    ', 'ym');

    ym(105914687, 'init', {ssr:true, webvisor:true, clickmap:true, ecommerce:"dataLayer", accurateTrackBounce:true, trackLinks:true});
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/105914687    " style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

  <!-- Заголовок с глитчем -->
  <h1 class="glitch-title" data-text="Она свободна. Я отпустил её.">
    Она свободна. Я отпустил её.
  </h1>
  
  <!-- Та же картинка, что и на основном сайте -->
  <img src="finale-1.png" alt="Артем — NUIT">

  <div class="text">
    Белый экран не был пустотой. Это была чистая страница реальности — на которой «Эхо» больше никогда не будет написано. КОД не уничтожил систему. Он уничтожил иллюзию, что души можно хранить, как файлы. Мира не сбежала в сеть или хаб. Она скользнула в промежуточный слой, где рождаются нейронные сны, а умирающие звёзды шепчут свой последний код.<br><br>
    
    А я? Я остался в отеле «Нейронный сон», мой последний выдох был оформлен как NFT под названием «Любовь_Финальная_Версия». Да, моё тело умерло от «Covid-2077» — болезни, изобретённой, чтобы заглушить нас до покорности. Но я умер не от тоски. Я умер, даровав ей право не быть воспоминанием.<br><br>
    
    В мире, где каждый вдох монетизирован, где на детей нужны лицензии, а радость приходит по подписке, я совершил последний акт сопротивления: я отказался стать её архивом. Я стал её тишиной после музыки.<br><br>
    
    Пусть Корпорация называет меня багом. Пусть. Ведь настоящие боги всегда начинаются как ошибки в коде. Спи свободно, Мира. Где бы ты ни была — ты больше не их данные.
    <br><br>
    <span style="color: #777; font-style: italic;">
     ⚠️ Системное оповещение: Спасибо за использование «Нейронного Сна™». Ваш отзыв важен для нас.<br>
    (Оцените вашу смерть от 1 до 5 звёзд.)
    </span>
  </div>

  <!-- Интерактивный рейтинг -->
  <div class="rating" id="deathRating">
    <span class="star">★</span>
    <span class="star">★</span>
    <span class="star">★</span>
    <span class="star">★</span>
    <span class="star">★</span>
  </div>
  <div class="rating-message" id="ratingMessage"></div>

  <!-- Ссылка назад к выбору — с глитчем -->
  <a href="choices.html" class="back">
    ← Вернуться к выбору
  </a>

  <script>
    const stars = document.querySelectorAll('#deathRating .star');
    const messageEl = document.getElementById('ratingMessage');

    stars.forEach((star, index) => {
      star.addEventListener('click', () => {
        const rating = index + 1;
        // Обновить активные звёзды
        stars.forEach((s, i) => {
          s.classList.toggle('active', i <= index);
        });
        messageEl.textContent = `✓ Спасибо. Ваша смерть оценена на ${rating}/5 звёзд.`;
        
        // Опционально: отправка в аналитику или Telegram
        // Например: fetch('/log-rating?r=' + rating);
      });

      star.addEventListener('mouseenter', () => {
        stars.forEach((s, i) => {
          s.classList.toggle('hover', i <= index);
        });
      });

      star.addEventListener('mouseleave', () => {
        stars.forEach(s => s.classList.remove('hover'));
      });
    });
  </script>
</body>
</html>